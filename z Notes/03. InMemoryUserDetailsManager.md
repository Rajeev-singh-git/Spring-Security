# 3. In Memory User Details Manager

This repository contains my notes and code while learning **Spring Security**.  
Each section corresponds to one course module, with commits documenting concept-level progress.

---

## Table of Content

1. [Creating Multiple In-Memory Users](1-Creating-Multiple-In-Memory-Users-using-InMemoryUserDetailsManager)
2. 

---

## 1. Creating Multiple In-Memory Users using InMemoryUserDetailsManager

- Replaced single static credentials from `application.properties` with multiple users created in memory.

- `UserDetailsService` ‚Üí interface used by `DaoAuthenticationProvider` to fetch user credentials and authorities from a data source (in-memory, DB, etc.) during authentication.  
  Extended by `UserDetailsManager`, which also supports user creation, updates, and deletions.

- `InMemoryUserDetailsManager` ‚Üí implementation that stores user accounts in app memory (internally backed by a HashMap).

- `{noop}` prefix disables password encoding (treats passwords as plain text) ‚Äî **only for demos**, not production.

- Example admin user:
  
  ```java
  UserDetails admin = User.withUsername("admin")
                          .password("{noop}54321")
                          .authorities("admin").build();
  
  
  ```

- `InMemoryUserDetailsManager` constructor accepts varargs of users:

```java
return new InMemoryUserDetailsManager(user, admin);
```

- `DaoAuthenticationProvider` uses this service to authenticate against the stored user details.
  
  

üí° **Insight:**  
`UserDetailsService` acts as the bridge between authentication logic and user data source ‚Äî replacing or extending it changes where and how credentials are validated.

‚ö†Ô∏è **Gotcha:**  
Without `{noop}` or a configured `PasswordEncoder` bean, Spring Security rejects logins due to missing encoding information.

---















---

# Questions

### Why do we create a `UserDetailsService` bean when inside the method we‚Äôre just using `User` and `UserDetails`, which seem independent of it
